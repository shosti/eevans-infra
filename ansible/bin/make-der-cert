#!/usr/bin/env bash
#
# Small script for making x509 DER files and putting them in the files folder
# (for usage in, for example, strongswan PKI)

set -euo pipefail

usage() {
    echo "Usage: $0 <in>"
    exit 1
}

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null && pwd )"

fname="$(basename -- "$1")"
fname="${fname%.*}"
openssl x509 -inform PEM  -outform DER -in "$1" -out "$DIR/../files/$fname.der"
